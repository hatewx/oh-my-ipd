---
name: ipd-charter
description: |
  管理项目 Charter (需求基线)。
  支持创建、更新、查看 Charter，以及处理需求变更。
arguments:
  - name: action
    description: 操作 (create/update/view/change)
    required: true
  - name: change_description
    description: 变更描述 (用于 change 操作)
    required: false
---

# Charter 管理

Charter 是 IPD-OMO 流程的需求基线，由 PDU 负责管理。

## 操作模式

### action=create: 创建新 Charter
激活 `pdu` Agent 创建 Charter：
1. 收集项目背景信息
2. 定义需求基线
3. 确定 MVP 范围
4. 定义验收标准
5. 输出到 `.claude/charter.md`

### action=update: 更新 Charter
激活 `pdu` Agent 更新现有 Charter：
1. 读取现有 Charter
2. 识别需要更新的部分
3. 更新内容
4. 记录变更历史

### action=view: 查看 Charter
显示当前 Charter 的完整内容。

### action=change: 处理变更请求
处理需求变更流程：
1. 接收变更描述
2. PDU 评估变更影响
3. SE 评估技术可行性
4. LPDT 审批变更
5. 更新 Charter
6. 记录变更历史

## 变更控制流程

```
变更请求
    │
    ▼
┌─────────────┐
│  PDU 评估   │──── 拒绝 ────▶ 记录原因
│  (商业价值) │
└──────┬──────┘
       │ 批准
       ▼
┌─────────────┐
│  SE 评估    │──── 拒绝 ────▶ 技术不可行
│  (技术可行) │
└──────┬──────┘
       │ 可行
       ▼
┌─────────────┐
│  LPDT 审批  │──── 拒绝 ────▶ 资源不足
│  (资源/风险)│
└──────┬──────┘
       │ 批准
       ▼
┌─────────────┐
│ 更新 Charter│
│ 记录变更历史│
└─────────────┘
```

## 输出格式

### Charter 创建/更新报告
```
╔════════════════════════════════════════════════════════════╗
║  Charter [创建/更新] 报告                                  ║
╠════════════════════════════════════════════════════════════╣
║  项目名称: [name]                                          ║
║  版本: [version]                                           ║
║  最后更新: [timestamp]                                     ║
╠════════════════════════════════════════════════════════════╣
║  需求统计                                                  ║
║  • P0 (必须): [N] 项                                       ║
║  • P1 (应该): [N] 项                                       ║
║  • P2 (可以): [N] 项                                       ║
╠════════════════════════════════════════════════════════════╣
║  变更历史                                                  ║
║  [如果有]                                                  ║
╠════════════════════════════════════════════════════════════╣
║  状态: [已生效/待审批]                                     ║
╚════════════════════════════════════════════════════════════╝
```

## 执行指令

根据 action 参数执行相应的 Charter 管理操作。
